<div class="register">
    <p class="breadcrumb" style="padding-left:18px;padding-bottom: 20px;">
        <a ui-sref="home">首页</a><u>&gt;&gt;</u><span>注册</span>
    </p>
    <div class="register-guide">
        <ul ng-class="{secend:secend}">
            <li><span>1.填写账户信息</span></li>
            <li><span class="active">2.注册成功</span></li>
        </ul>
    </div>
    <form action="" name="myform" class="register-form" ng-show="first">
        <table>
            <tbody>
            <tr>
                <td><label for="">用户昵称：</label></td>
                <td><input type="text" ng-required="true" ng-pattern="/^[\u4E00-\u9FA5A-Za-z0-9_]+$/" ng-maxlength="20"
                           ng-minlength="4" name="nikename" ng-model="nikename"></td>
            </tr>
            <tr>
                <td><label for="">手机号码：</label></td>
                <td><input type="text" ng-required="true" ng-pattern="/^1[3-9][0-9]\d{8}$/" name="phone"
                           ng-model="phone"></td>
            </tr>
            <tr>
                <td><label for="">输入下图验证码：</label></td>
                <td><input type="text" ng-required="true" name="piccode" ng-model="piccode"></td>
            </tr>
            <tr style="line-height: 80px;">
                <td></td>
                <td>
                    <img id="imgcode" src="../getImgCode.do" width="178" height="54" alt=""
                         style="vertical-align:middle">
                    <span style="line-height:80px">
                        <small style="padding-left:15px">看不清？</small>
                        <a ng-click="changeimg()">换张图</a>
                    </span>
                </td>
            </tr>
            <tr>
                <td><label for="">短信验证码：</label></td>
                <td><input type="text" style="width:182px;margin-right:20px;" ng-model="secretCode" ng-required="true" name="secretCode">
                    <button class="register-msn" ng-click="countdown()" ng-bind="status" ng-class="{send:!send}" ng-disabled="!send"></button>
                </td>
            </tr>
            <tr>
                <td><label for="">登录密码：</label></td>
                <td><input type="text" ng-required="true" ng-model="password" name="password" ng-pattern="/^[0-9A-Za-z_]*$/" ng-minlength="8" ng-maxlength="18"></td>
            </tr>
            <tr>
                <td><label for="">确认密码：</label></td>
                <td><input type="text" ng-model="rpassword" name="rpassword" ng-required="true"></td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="checkbox" style="width:12px;height:12px;" name="agreement" ng-model="agreement">
                    <label for="" style="color:#008582;font-size:12px;" ng-click="openmsg()">本人已阅读并同意注册协议</label>
                </td>
            </tr>
            </tbody>
        </table>
        <!--昵称-->
        <div class="register-tips register-tips-nikename"
             ng-if="myform.nikename.$dirty && !myform.nikename.$error.required&& !myform.nikename.$error.pattern&& !myform.nikename.$error.maxlength&&!myform.nikename.$error.minlength">
            <span>
                 <i></i><u>昵称正确</u>
            </span>
        </div>
        <div class="register-tips register-tips-nikename"
             ng-if="myform.nikename.$dirty && myform.nikename.$error.required">
            <span>
                 <i class="error"></i><u>昵称不能为空</u>
            </span>
        </div>
        <div class="register-tips register-tips-nikename"
             ng-if="myform.nikename.$dirty && myform.nikename.$error.pattern">
            <span>
                 <i class="error"></i><u>昵称不符合规定</u>
            </span>
        </div>
        <div class="register-tips register-tips-nikename"
             ng-if="myform.nikename.$dirty && myform.nikename.$error.maxlength">
            <span>
                 <i class="error"></i><u>不能超过20</u>
            </span>
        </div>
        <div class="register-tips register-tips-nikename"
             ng-if="myform.nikename.$dirty && myform.nikename.$error.minlength">
            <span>
                 <i class="error"></i><u>不能小于4</u>
            </span>
        </div>

        <!--//手机号-->
        <div class="register-tips register-tips-phone"
             ng-if="myform.phone.$dirty && !myform.phone.$error.pattern && !myform.phone.$error.required">
            <span>
                 <i></i><u>手机号正确</u>
            </span>
        </div>
        <div class="register-tips register-tips-phone" ng-if="myform.phone.$dirty && myform.phone.$error.required">
            <span>
                 <i class="error"></i><u>手机号不能为空</u>
            </span>
        </div>
        <div class="register-tips register-tips-phone" ng-if="myform.phone.$dirty && myform.phone.$error.pattern">
            <span>
                 <i class="error"></i><u>手机号错误</u>
            </span>
        </div>

        <!--图片验证码-->
        <div class="register-tips register-tips-piccode"
             ng-if="myform.piccode.$dirty && myform.piccode.$error.required">
            <span>
                 <i class="error"></i><u>验证码不为空</u>
            </span>
        </div>
        <div class="register-tips register-tips-piccode">
            <span>
                 <i class="error"></i><u>获取短信验证码前请先填写图形验证码</u>
            </span>
        </div>
        <!--短信验证码-->
        <div class="register-tips register-tips-msg"
             ng-if="myform.secretCode.$dirty && myform.secretCode.$error.required">
            <span>
                 <i class="error"></i><u>验证码不为空</u>
            </span>
        </div>
        <div class="register-tips register-tips-msg"
             ng-if="myform.secretCode.$dirty && !myform.secretCode.$error.required">
            <span>
                 <i></i><u></u>
            </span>
        </div>
        <!--设置密码-->
        <div class="register-tips register-tips-password"
             ng-if="myform.password.$dirty && myform.password.$error.required">
            <span>
                 <i class="error"></i><u>密码不为空</u>
            </span>
        </div>
        <div class="register-tips register-tips-password"
             ng-if="myform.password.$dirty && !myform.password.$error.required && !myform.password.$error.pattern&&!myform.password.$error.minlength&&!myform.password.$error.maxlength">
            <span>
                 <i></i><u></u>
            </span>
        </div>
        <div class="register-tips register-tips-password"
             ng-if="myform.password.$dirty && myform.password.$error.pattern&&!myform.password.$error.minlength&&!myform.password.$error.maxlength">
            <span>
                 <i class="error"></i><u>密码不符合规定</u>
            </span>
        </div>
        <div class="register-tips register-tips-password"
             ng-if="myform.password.$dirty && myform.password.$error.minlength">
            <span>
                 <i class="error"></i><u>密码至少8位</u>
            </span>
        </div>
        <div class="register-tips register-tips-password"
             ng-if="myform.password.$dirty && myform.password.$error.maxlength">
            <span>
                 <i class="error"></i><u>密码最多18位</u>
            </span>
        </div>
        <!--确认密码-->
        <div class="register-tips register-tips-rpassword"
             ng-if="myform.password.$dirty && myform.rpassword.$dirty && password !== rpassword">
            <span>
                 <i class="error"></i><u>密码不一致</u>
            </span>
        </div>
        <div class="register-tips register-tips-rpassword" ng-if="myform.password.$dirty && myform.rpassword.$dirty && password == rpassword">
            <span>
                 <i></i><u></u>
            </span>
        </div>
        <input type="submit" style="margin-left:48px;" class="register-submit" ng-click="submitFun()" value="注册" ng-disabled="myform.$invalid || agreement==''||password != rpassword" ng-class="{active:!myform.$invalid && agreement && password == rpassword}">
        <p style="width:254px;text-align: left;margin:10px auto 0;padding-left:48px;">已有账号？<a ui-sref="login">请登录</a></p>
    </form>
    <div class="register-secend" ng-show="!first">
        <div>
            <h1>注册成功</h1>
            <p ng-bind="status2"></p>
            <a ui-sref="home">返回首页</a>
        </div>
    </div>
</div>